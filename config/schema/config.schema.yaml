$schema: "https://json-schema.org/draft/2020-12/schema"

description: Configuration schema for Q100 variant benchmark pipeline

type: object

required:
  - benchmarksets
  - outputs

properties:
  benchmarksets:
    type: object
    description: Benchmark sets for analysis
    patternProperties:
      "^(v5q|v421|cmrg|v06|tr)_":
        type: object
        required:
          - vcf
        properties:
          vcf:
            anyOf:
              - type: string
                description: Path to VCF file
                pattern: ".*\\.vcf\\.gz$"
              - type: object
                required:
                  - url
                  - checksum
                properties:
                  url:
                    type: string
                    description: URL to VCF file
                  checksum:
                    type: string
                    description: Checksum of the VCF file
          bed:
            anyOf:
              - type: string
                pattern: ".*\\.bed(\\.gz)?$"
              - type: object
                required:
                  - url
                  - checksum
                properties:
                  url:
                    type: string
                    description: URL to BED file
                  checksum:
                    type: string
                    description: Checksum of the BED file
              - type: "null"
            description: Path to BED file (optional for pre-filtered benchmarks)
    minProperties: 1

  references:
    type: object
    description: Reference files and other resources
    patternProperties:
      "^[a-zA-Z0-9_\\.]+$":
        type: object
        required:
          - path
        properties:
          path:
            type: string
            description: Local path to the file
          url:
            type: string
            description: Remote URL for download
          checksum:
            type: string
            description: MD5 or SHA256 checksum

  outputs:
    type: object
    description: Output configuration
    required:
      - sv_len
      - rtg_stats_dir
      - subset_vcf_dir
    properties:
      sv_len:
        type: string
        description: SV length output filename
      rtg_stats_dir:
        type: string
        description: Directory for RTG stats outputs
      subset_vcf_dir:
        type: string
        description: Directory for subset VCF outputs
